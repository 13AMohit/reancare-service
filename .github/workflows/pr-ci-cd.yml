# This workflow will trigger pull requests and apply a label based on the
# paths that are modified in the pull request.
#

# To use this workflow, you will need to set up a .github/labeler.yml
# file with configuration.  For more information, see:
# https://github.com/actions/labeler

name: PR-CI-CD


# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the develop branch
  pull_request:
    branches: [develop]
  workflow_dispatch:
    
jobs:
  testing:
    runs-on: ubuntu
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      
      - name: Configure AWS credentials
        id: config-aws-creds
        uses: aws-actions/configure-aws-credentials@v2
        with:
          role-to-assume: arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/${{ secrets.AWS_ASSUME_ROLE }}
          aws-region: ${{ secrets.AWS_REGION }}
          role-session-name: ReanCIDCSession
          mask-aws-account-id: 'no'
      - name: checking auth
        run: aws s3 ls
